{"version":3,"file":"static/js/336.68786470.chunk.js","mappings":"4NAKA,MAiDA,EAjDwBA,KACtB,MAAM,KAAEC,IAASC,EAAAA,EAAAA,MACVC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,OACtCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAEvCG,EAAAA,EAAAA,WAAU,KACRC,KACC,CAACR,IAEJ,MAAMQ,EAAwBC,UAC5B,IACEC,QAAQC,IAAI,oDAA+C,OAAJX,QAAI,IAAJA,OAAI,EAAJA,EAAMY,IAC7D,MAAMC,QAAiBC,MAAM,yBAA0B,CACrDC,QAAS,CACP,cAAiB,UAAUC,aAAaC,QAAQ,cAIpD,GAAIJ,EAASK,GAAI,CACf,MAAMC,QAAaN,EAASO,OAC5BV,QAAQC,IAAI,qCAA4BQ,GACxChB,IAAgBgB,EAAKE,QACvB,MACEX,QAAQC,IAAI,2BACZR,GAAc,EAElB,CAAE,MAAOmB,GACPZ,QAAQY,MAAM,oCAAqCA,GACnDnB,GAAc,EAChB,CAAC,QACCG,GAAW,EACb,GAGF,OAAID,GACKkB,EAAAA,EAAAA,KAACC,EAAAA,EAAc,IAInBtB,GAMLQ,QAAQC,IAAI,iDACLY,EAAAA,EAAAA,KAACE,EAAAA,GAAQ,CAACC,GAAG,qBAAqBC,SAAO,MAN9CjB,QAAQC,IAAI,uDACLY,EAAAA,EAAAA,KAACE,EAAAA,GAAQ,CAACC,GAAG,sBAAsBC,SAAO,K","sources":["components/volunteer/VolunteerPortal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\n\r\nconst VolunteerPortal = () => {\r\n  const { user } = useAuth();\r\n  const [hasProfile, setHasProfile] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    checkVolunteerProfile();\r\n  }, [user]);\r\n\r\n  const checkVolunteerProfile = async () => {\r\n    try {\r\n      console.log('üîç Checking volunteer profile for user:', user?.id);\r\n      const response = await fetch('/api/volunteer/profile', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('üìä Profile check result:', data);\r\n        setHasProfile(!!data.profile);\r\n      } else {\r\n        console.log('‚ùå No profile found');\r\n        setHasProfile(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking volunteer profile:', error);\r\n      setHasProfile(false);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  // If volunteer doesn't have a profile, redirect to registration form\r\n  if (!hasProfile) {\r\n    console.log('üîÑ Redirecting to volunteer registration');\r\n    return <Navigate to=\"/volunteer/register\" replace />;\r\n  }\r\n\r\n  // If volunteer has a profile, redirect to survey dashboard\r\n  console.log('üîÑ Redirecting to survey dashboard');\r\n  return <Navigate to=\"/volunteer/surveys\" replace />;\r\n};\r\n\r\nexport default VolunteerPortal; "],"names":["VolunteerPortal","user","useAuth","hasProfile","setHasProfile","useState","loading","setLoading","useEffect","checkVolunteerProfile","async","console","log","id","response","fetch","headers","localStorage","getItem","ok","data","json","profile","error","_jsx","LoadingSpinner","Navigate","to","replace"],"sourceRoot":""}