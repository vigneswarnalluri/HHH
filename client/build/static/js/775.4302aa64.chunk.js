"use strict";(self.webpackChunkvolunteer_management_client=self.webpackChunkvolunteer_management_client||[]).push([[775],{5775:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(5043),r=t(3216),l=t(5475),d=t(5016),i=t(8254),n=t(9799),c=t(579);const m=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!0),[l,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[o,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{r(!0);const e=await fetch("/api/admin/volunteers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch volunteers");const t=await e.json();s(t.volunteers||[])}catch(l){console.error("Error fetching volunteers:",l),d("Failed to load volunteers")}finally{r(!1)}};return t?(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-gray-600",children:"Loading volunteers..."})]})}):l?(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"w-12 h-12 border-4 border-red-200 border-t-red-600 rounded-full mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-red-600",children:l})]})}):(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Volunteer Management"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Manage all volunteer profiles and their activities"})]}),(0,c.jsx)("div",{className:"flex items-center space-x-2",children:(0,c.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length," volunteers"]})})]}),(0,c.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg",children:e.length>0?(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{className:"bg-gray-50",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volunteer"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profile Status"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Surveys"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,c.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>{var a;return(0,c.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,c.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,c.jsx)("span",{className:"text-sm font-medium text-primary-600",children:t.name.charAt(0).toUpperCase()})})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),(0,c.jsx)("div",{className:"text-sm text-gray-500",children:t.email})]})]})}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(t.profile?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.profile?"Complete":"Incomplete"}),t.profile&&(0,c.jsxs)("div",{className:"text-xs text-gray-500",children:["Aadhaar: ",t.profile.aadhaar_number?"\u2713":"\u2717"]})]})}),(0,c.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.TPq,{className:"h-4 w-4 text-blue-600 mr-1"}),t.survey_count||0," surveys"]}),t.last_survey&&(0,c.jsxs)("div",{className:"text-xs text-gray-500",children:["Last: ",(0,n.A)(new Date(t.last_survey),"MMM dd, yyyy")]})]}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:null!==(a=t.profile)&&void 0!==a&&a.location_coordinates?(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.HzC,{className:"h-4 w-4 text-green-600 mr-1"}),(0,c.jsx)("span",{children:"Available"})]}):(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.HzC,{className:"h-4 w-4 text-gray-400 mr-1"}),(0,c.jsx)("span",{className:"text-gray-500",children:"Not set"})]})}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,n.A)(new Date(t.created_at),"MMM dd, yyyy")}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("button",{onClick:()=>(async e=>{try{const s=await fetch(`/api/admin/volunteers/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.ok)throw new Error("Failed to fetch volunteer details");const t=await s.json();x(t),h(!0)}catch(l){console.error("Error fetching volunteer details:",l),alert("Failed to fetch volunteer details")}})(t.id),className:"text-primary-600 hover:text-primary-900",title:"View Details",children:(0,c.jsx)(i.Vap,{className:"h-4 w-4"})}),(0,c.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this volunteer? This action cannot be undone."))try{if(!(await fetch(`/api/admin/volunteers/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete volunteer");s(e.filter(e=>e.id!==t)),alert("Volunteer deleted successfully")}catch(l){console.error("Error deleting volunteer:",l),alert("Failed to delete volunteer")}})(t.id),className:"text-red-600 hover:text-red-900",title:"Delete Volunteer",children:(0,c.jsx)(i.IXo,{className:"h-4 w-4"})})]})})]},t.id)})})]})}):(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)(i.cfS,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,c.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No volunteers found"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Volunteers will appear here once they register."})]})}),o&&m&&(0,c.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,c.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,c.jsxs)("div",{className:"mt-3",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Volunteer Details"}),(0,c.jsxs)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:[(0,c.jsx)("span",{className:"sr-only",children:"Close"}),(0,c.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Basic Information"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.name})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.email})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:m.role})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Joined"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(0,n.A)(new Date(m.created_at),"MMM dd, yyyy HH:mm")})]})]})]}),m.profile&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Profile Information"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Aadhaar Number"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.profile.aadhaar_number||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Location Address"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.profile.location_address||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Location Coordinates"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.profile.location_coordinates||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Photo"}),m.profile.photo_url?(0,c.jsx)("img",{src:m.profile.photo_url,alt:"Profile",className:"mt-1 w-20 h-20 rounded-lg object-cover"}):(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No photo provided"})]}),(0,c.jsxs)("div",{className:"md:col-span-2",children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.profile.description||"No description provided"})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Survey Activity"}),(0,c.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Surveys"}),(0,c.jsx)("span",{className:"text-lg font-bold text-primary-600",children:m.survey_count||0})]}),m.surveys&&m.surveys.length>0&&(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Recent Surveys:"}),m.surveys.slice(0,3).map((e,s)=>(0,c.jsx)("div",{className:"bg-white rounded p-2 text-sm",children:(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsxs)("span",{className:"text-gray-900",children:[e.beggar_name||"Unknown"," (",e.beggar_gender||"N/A",")"]}),(0,c.jsx)("span",{className:"text-gray-500",children:(0,n.A)(new Date(e.survey_date),"MMM dd, yyyy")})]})},e.id))]})]})]})]}),(0,c.jsx)("div",{className:"mt-6 flex justify-end",children:(0,c.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400",children:"Close"})})]})})})]})};var x=t(6213),o=t(5594);const h=()=>{var e,s,t,d,m,h,g,u,j;const{id:y}=(0,r.g)(),[N,p]=(0,a.useState)(null),[v,f]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{(async()=>{try{f(!0);const e=await x.A.get(`/api/admin/volunteers/${y}`);p(e.data.volunteer)}catch(e){console.error("Error fetching volunteer:",e)}finally{f(!1)}})()},[y]),v)return(0,c.jsx)(o.A,{});if(!N)return(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)(i.yGN,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,c.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Volunteer not found"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"The volunteer you're looking for doesn't exist."}),(0,c.jsx)("div",{className:"mt-6",children:(0,c.jsx)(l.N_,{to:"/admin/volunteers",className:"btn btn-primary",children:"Back to Volunteers"})})]});return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between",children:(0,c.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,c.jsxs)(l.N_,{to:"/admin/volunteers",className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,c.jsx)(i.kRp,{className:"w-4 h-4"}),(0,c.jsx)("span",{children:"Back to Volunteers"})]}),(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Volunteer Profile"})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,c.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,c.jsx)(i.JXP,{className:"w-6 h-6 text-primary-600"}),(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"User Information"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:null===(e=N.userId)||void 0===e?void 0:e.email})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(null===(s=N.userId)||void 0===s?void 0:s.phone)||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:null===(t=N.userId)||void 0===t?void 0:t.role})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Login"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:null!==(d=N.userId)&&void 0!==d&&d.lastLogin?(0,n.A)(new Date(N.userId.lastLogin),"MMM dd, yyyy HH:mm"):"Never"})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,c.jsx)(i.A3x,{className:"w-6 h-6 text-primary-600"}),(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Aadhaar Information"})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(e=>{switch(e){case"yes":return"Yes, I have an Aadhaar card";case"no":return"No, I don't have an Aadhaar card";case"unknown":return"I'm not sure";default:return"Not specified"}})(null===(m=N.aadhaar)||void 0===m?void 0:m.status)})]}),(null===(h=N.aadhaar)||void 0===h?void 0:h.photoUrl)&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo"}),(0,c.jsx)("img",{src:N.aadhaar.photoUrl,alt:"Aadhaar card",className:"w-32 h-20 object-cover rounded-lg border border-gray-200"})]}),"no"===(null===(g=N.aadhaar)||void 0===g?void 0:g.status)&&N.phoneIfNoAadhaar&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone (if no Aadhaar)"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.phoneIfNoAadhaar})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,c.jsx)(i.HzC,{className:"w-6 h-6 text-primary-600"}),(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Location Information"})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(null===(u=N.location)||void 0===u?void 0:u.coordinates)&&(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.location.coordinates[0].toFixed(6)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.location.coordinates[1].toFixed(6)})]})]}),(null===(j=N.location)||void 0===j?void 0:j.address)&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.location.address})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,c.jsx)(i.jH2,{className:"w-6 h-6 text-primary-600"}),(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Description"})]}),(0,c.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,c.jsx)("p",{className:"text-sm text-gray-700",children:N.description||"No description provided"})})]})]}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Status"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm text-gray-600",children:"Profile Complete"}),(0,c.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(N.isComplete?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:N.isComplete?"Complete":"Incomplete"})]}),N.submittedAt&&(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm text-gray-600",children:"Submitted"}),(0,c.jsx)("span",{className:"text-sm text-gray-900",children:(0,n.A)(new Date(N.submittedAt),"MMM dd, yyyy")})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm text-gray-600",children:"Created"}),(0,c.jsx)("span",{className:"text-sm text-gray-900",children:(0,n.A)(new Date(N.createdAt),"MMM dd, yyyy")})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("button",{className:"w-full btn btn-secondary text-left",children:[(0,c.jsx)(i.SG1,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),(0,c.jsxs)("button",{className:"w-full btn btn-danger text-left",children:[(0,c.jsx)(i.yGN,{className:"w-4 h-4 mr-2"}),"Delete Profile"]})]})]})]})]})]})},g=e=>{let{stats:s}=e;if(!s)return(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-gray-600",children:"Loading statistics..."})]});const t=s.aadhaarStats||{haveAadhaar:0,noAadhaar:0,unknown:0};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,c.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(i.cfS,{className:"h-8 w-8 text-primary-600"})}),(0,c.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,c.jsxs)("dl",{children:[(0,c.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Volunteers"}),(0,c.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:s.totalVolunteers||0})]})})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(i.A3x,{className:"h-8 w-8 text-green-600"})}),(0,c.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,c.jsxs)("dl",{children:[(0,c.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Complete Profiles"}),(0,c.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:s.completeProfiles||0})]})})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(i.Ohp,{className:"h-8 w-8 text-yellow-600"})}),(0,c.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,c.jsxs)("dl",{children:[(0,c.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Incomplete Profiles"}),(0,c.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:s.incompleteProfiles||0})]})})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(i.hht,{className:"h-8 w-8 text-blue-600"})}),(0,c.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,c.jsxs)("dl",{children:[(0,c.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Surveys"}),(0,c.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:s.totalSurveys||0})]})})]})})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,c.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(i.wIk,{className:"h-6 w-6 text-purple-600"})}),(0,c.jsx)("div",{className:"ml-4 w-0 flex-1",children:(0,c.jsxs)("dl",{children:[(0,c.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Surveys This Month"}),(0,c.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:s.surveysThisMonth||0})]})})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(i.wIk,{className:"h-6 w-6 text-indigo-600"})}),(0,c.jsx)("div",{className:"ml-4 w-0 flex-1",children:(0,c.jsxs)("dl",{children:[(0,c.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Surveys This Week"}),(0,c.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:s.surveysThisWeek||0})]})})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(i.HzC,{className:"h-6 w-6 text-red-600"})}),(0,c.jsx)("div",{className:"ml-4 w-0 flex-1",children:(0,c.jsxs)("dl",{children:[(0,c.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"With Location"}),(0,c.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:s.totalVolunteers-(s.incompleteProfiles||0)})]})})]})})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Aadhaar Status Breakdown"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.A3x,{className:"h-5 w-5 text-green-600"}),(0,c.jsxs)("div",{className:"ml-3",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Have Aadhaar"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-green-900",children:t.haveAadhaar||0})]})]})}),(0,c.jsx)("div",{className:"bg-red-50 rounded-lg p-4",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.cfS,{className:"h-5 w-5 text-red-600"}),(0,c.jsxs)("div",{className:"ml-3",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-red-800",children:"No Aadhaar"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-red-900",children:t.noAadhaar||0})]})]})}),(0,c.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.Ohp,{className:"h-5 w-5 text-gray-600"}),(0,c.jsxs)("div",{className:"ml-3",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"Unknown"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.unknown||0})]})]})})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Submissions"}),(0,c.jsx)("a",{href:"/admin/volunteers",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all \u2192"})]}),s.recentSubmissions&&s.recentSubmissions.length>0?(0,c.jsx)("div",{className:"space-y-3",children:s.recentSubmissions.map((e,s)=>(0,c.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,c.jsx)("span",{className:"text-sm font-medium text-primary-600",children:e.name.charAt(0).toUpperCase()})})}),(0,c.jsxs)("div",{className:"ml-3",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Complete"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status}),(0,c.jsx)("span",{className:"text-xs text-gray-500",children:(0,n.A)(new Date(e.created_at),"MMM dd, yyyy")})]})]},e.id))}):(0,c.jsxs)("div",{className:"text-center py-8",children:[(0,c.jsx)(i.cfS,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,c.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No recent submissions"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"New volunteer submissions will appear here."})]})]})]})},u=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!0),[l,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[o,h]=(0,a.useState)(!1),[g,u]=(0,a.useState)({volunteer:"",dateFrom:"",dateTo:"",gender:""});(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{var e;r(!0),console.log("\ud83d\udd0d Fetching surveys...");const t=await fetch("/api/admin/surveys",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error("Failed to fetch surveys");const a=await t.json();console.log("\ud83d\udcca Surveys received:",(null===(e=a.surveys)||void 0===e?void 0:e.length)||0),s(a.surveys||[])}catch(l){console.error("Error fetching surveys:",l),d("Failed to load surveys")}finally{r(!1)}},y=e.filter(e=>{var s;return!(g.volunteer&&(null===(s=e.volunteer_email)||void 0===s||!s.toLowerCase().includes(g.volunteer.toLowerCase())))&&((!g.gender||e.beggar_gender===g.gender)&&(!(g.dateFrom&&new Date(e.survey_date)<new Date(g.dateFrom))&&!(g.dateTo&&new Date(e.survey_date)>new Date(g.dateTo))))});return t?(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-gray-600",children:"Loading surveys..."})]})}):l?(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"w-12 h-12 border-4 border-red-200 border-t-red-600 rounded-full mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-red-600",children:l})]})}):(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Survey Management"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"View and manage all beggar surveys with detailed information"})]}),(0,c.jsx)("div",{className:"flex items-center space-x-2",children:(0,c.jsxs)("span",{className:"text-sm text-gray-500",children:[y.length," surveys"]})})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filters"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Volunteer"}),(0,c.jsx)("input",{type:"text",placeholder:"Search by volunteer email...",value:g.volunteer,onChange:e=>u({...g,volunteer:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,c.jsxs)("select",{value:g.gender,onChange:e=>u({...g,gender:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,c.jsx)("option",{value:"",children:"All"}),(0,c.jsx)("option",{value:"male",children:"Male"}),(0,c.jsx)("option",{value:"female",children:"Female"}),(0,c.jsx)("option",{value:"other",children:"Other"}),(0,c.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),(0,c.jsx)("input",{type:"date",value:g.dateFrom,onChange:e=>u({...g,dateFrom:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),(0,c.jsx)("input",{type:"date",value:g.dateTo,onChange:e=>u({...g,dateTo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),(0,c.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg",children:y.length>0?(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{className:"bg-gray-50",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beggar Details"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volunteer"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Survey Date"}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,c.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(t=>(0,c.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:t.beggar_photo_url?(0,c.jsx)("img",{src:t.beggar_photo_url,alt:"Beggar",className:"h-10 w-10 rounded-full object-cover"}):(0,c.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,c.jsx)(i.JXP,{className:"h-5 w-5 text-gray-400"})})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.beggar_name||"Unknown"}),(0,c.jsxs)("div",{className:"text-sm text-gray-500",children:[t.beggar_age?`${t.beggar_age} years`:"Age not provided"," \u2022 ",t.beggar_gender||"Unknown"]})]})]})}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.volunteer_email||"Unknown"}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.location_coordinates?(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.HzC,{className:"h-4 w-4 text-green-600 mr-1"}),(0,c.jsx)("span",{children:"Available"})]}):(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(i.HzC,{className:"h-4 w-4 text-gray-400 mr-1"}),(0,c.jsx)("span",{className:"text-gray-500",children:"Not set"})]})}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,n.A)(new Date(t.survey_date),"MMM dd, yyyy HH:mm")}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("button",{onClick:()=>(e=>{x(e),h(!0)})(t),className:"text-primary-600 hover:text-primary-900",title:"View Details",children:(0,c.jsx)(i.Vap,{className:"h-4 w-4"})}),(0,c.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this survey?"))try{if(!(await fetch(`/api/volunteer/surveys/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete survey");s(e.filter(e=>e.id!==t)),alert("Survey deleted successfully")}catch(l){console.error("Error deleting survey:",l),alert("Failed to delete survey")}})(t.id),className:"text-red-600 hover:text-red-900",title:"Delete Survey",children:(0,c.jsx)(i.IXo,{className:"h-4 w-4"})})]})})]},t.id))})]})}):(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)(i.JXP,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,c.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No surveys found"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Surveys will appear here once volunteers submit them."})]})}),o&&m&&(0,c.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,c.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,c.jsxs)("div",{className:"mt-3",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Survey Details"}),(0,c.jsxs)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:[(0,c.jsx)("span",{className:"sr-only",children:"Close"}),(0,c.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Beggar Information"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.beggar_name||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.beggar_age||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:m.beggar_gender||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Survey Date"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(0,n.A)(new Date(m.survey_date),"MMM dd, yyyy HH:mm")})]})]})]}),m.beggar_photo_url&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Photo"}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("img",{src:m.beggar_photo_url,alt:"Beggar",className:"max-w-xs rounded-lg shadow-sm"})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Location Information"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.location_address||"Not provided"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Coordinates"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.location_coordinates||"Not provided"})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Volunteer Information"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Volunteer Email"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.volunteer_email||"Unknown"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Volunteer Name"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:m.volunteer_name||"Unknown"})]})]})]}),m.survey_notes&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Survey Notes"}),(0,c.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,c.jsx)("p",{className:"text-sm text-gray-900",children:m.survey_notes})})]})]}),(0,c.jsx)("div",{className:"mt-6 flex justify-end",children:(0,c.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400",children:"Close"})})]})})})]})},j=()=>{const{user:e,logout:s}=(0,d.A)(),[t,n]=(0,a.useState)(null),[x,j]=(0,a.useState)(!0),y=(0,r.zy)();(0,a.useEffect)(()=>{N()},[]);const N=async()=>{try{console.log("\ud83d\udd0d Fetching admin stats...");const e=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch stats");const s=await e.json();console.log("\ud83d\udcca Admin stats received:",s),n(s)}catch(e){console.error("Error fetching stats:",e)}finally{j(!1)}},p=e=>y.pathname===e;return x?(0,c.jsx)(o.A,{}):(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,c.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,c.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,c.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",null===e||void 0===e?void 0:e.email]})]}),(0,c.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,c.jsx)(i.QeK,{className:"w-4 h-4"}),(0,c.jsx)("span",{children:"Sign out"})]})]})})}),(0,c.jsx)("div",{className:"bg-white border-b",children:(0,c.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,c.jsxs)("nav",{className:"flex space-x-8",children:[(0,c.jsx)(l.N_,{to:"/admin",className:"border-b-2 py-4 px-1 text-sm font-medium "+(p("/admin")?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overview"}),(0,c.jsx)(l.N_,{to:"/admin/volunteers",className:"border-b-2 py-4 px-1 text-sm font-medium "+(p("/admin/volunteers")?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Volunteers"}),(0,c.jsx)(l.N_,{to:"/admin/surveys",className:"border-b-2 py-4 px-1 text-sm font-medium "+(p("/admin/surveys")?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Surveys"})]})})}),(0,c.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,c.jsxs)(r.BV,{children:[(0,c.jsx)(r.qh,{path:"/",element:(0,c.jsx)(g,{stats:t})}),(0,c.jsx)(r.qh,{path:"/volunteers",element:(0,c.jsx)(m,{})}),(0,c.jsx)(r.qh,{path:"/volunteers/:id",element:(0,c.jsx)(h,{})}),(0,c.jsx)(r.qh,{path:"/surveys",element:(0,c.jsx)(u,{})})]})})]})}}}]);
//# sourceMappingURL=775.4302aa64.chunk.js.map