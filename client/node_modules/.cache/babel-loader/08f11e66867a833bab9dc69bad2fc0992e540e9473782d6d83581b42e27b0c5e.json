{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../contexts/AuthContext';import{FiMapPin,FiUser,FiCalendar,FiPlus,FiEye,FiEdit,FiTrash2}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SurveyDashboard=()=>{const{user}=useAuth();const[surveys,setSurveys]=useState([]);const[surveyCount,setSurveyCount]=useState(0);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedSurvey,setSelectedSurvey]=useState(null);const[showSurveyModal,setShowSurveyModal]=useState(false);console.log('🔍 Current user:',user);console.log('🔍 User ID:',user===null||user===void 0?void 0:user.id);useEffect(()=>{fetchSurveys();},[]);const fetchSurveys=async()=>{try{var _data$surveys;setLoading(true);const token=localStorage.getItem('token');console.log('🔍 Fetching surveys with token:',token?'exists':'missing');const response=await fetch('/api/volunteer/surveys',{headers:{'Authorization':`Bearer ${token}`}});console.log('🔍 Response status:',response.status);console.log('🔍 Response ok:',response.ok);if(!response.ok){const errorText=await response.text();console.log('🔍 Error response:',errorText);throw new Error('Failed to fetch surveys');}const data=await response.json();console.log('🔍 Response data:',data);console.log('🔍 Surveys count:',((_data$surveys=data.surveys)===null||_data$surveys===void 0?void 0:_data$surveys.length)||0);console.log('🔍 Survey count from server:',data.surveyCount||0);setSurveys(data.surveys||[]);setSurveyCount(data.surveyCount||0);}catch(error){console.error('Error fetching surveys:',error);setError('Failed to load surveys');}finally{setLoading(false);}};const handleDeleteSurvey=async surveyId=>{if(!window.confirm('Are you sure you want to delete this survey?')){return;}try{const response=await fetch(`/api/volunteer/surveys/${surveyId}`,{method:'DELETE',headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(!response.ok){throw new Error('Failed to delete survey');}// Remove the survey from the list\nsetSurveys(surveys.filter(survey=>survey.id!==surveyId));setSurveyCount(prev=>prev-1);}catch(error){console.error('Error deleting survey:',error);alert('Failed to delete survey');}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const parseCoordinates=coordString=>{if(!coordString)return null;const match=coordString.match(/\\(([^,]+),([^)]+)\\)/);if(match){return[parseFloat(match[1]),parseFloat(match[2])];}return null;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading surveys...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Survey Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Welcome, \",user===null||user===void 0?void 0:user.email]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/volunteer/survey/new',className:\"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiPlus,{className:\"w-4 h-4\"}),\"New Survey\"]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100 text-blue-600\",children:/*#__PURE__*/_jsx(FiUser,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Surveys\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:surveyCount})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-green-100 text-green-600\",children:/*#__PURE__*/_jsx(FiMapPin,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"This Month\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:surveys.filter(s=>{const surveyDate=new Date(s.survey_date);const now=new Date();return surveyDate.getMonth()===now.getMonth()&&surveyDate.getFullYear()===now.getFullYear();}).length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-purple-100 text-purple-600\",children:/*#__PURE__*/_jsx(FiCalendar,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"This Week\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:surveys.filter(s=>{const surveyDate=new Date(s.survey_date);const now=new Date();const weekAgo=new Date(now.getTime()-7*24*60*60*1000);return surveyDate>=weekAgo;}).length})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900\",children:\"Recent Surveys\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-800\",children:error})})}),surveys.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center\",children:[/*#__PURE__*/_jsx(FiUser,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No surveys yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Start by creating your first survey\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/volunteer/survey/new',className:\"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700\",children:\"Create Survey\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Beggar Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:surveys.map(survey=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[survey.beggar_photo_url&&/*#__PURE__*/_jsx(\"img\",{src:survey.beggar_photo_url,alt:\"Beggar\",className:\"w-10 h-10 rounded-full object-cover mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:survey.beggar_name||'Unknown'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[survey.beggar_age&&`${survey.beggar_age} years`,survey.beggar_gender&&` • ${survey.beggar_gender}`]})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:survey.location_address||'Location recorded'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:(()=>{const coords=parseCoordinates(survey.location_coordinates);return coords?`${coords[0].toFixed(4)}, ${coords[1].toFixed(4)}`:'Coordinates available';})()})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:formatDate(survey.survey_date)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedSurvey(survey);setShowSurveyModal(true);},className:\"text-blue-600 hover:text-blue-900\",children:/*#__PURE__*/_jsx(FiEye,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=`/volunteer/survey/edit/${survey.id}`,className:\"text-green-600 hover:text-green-900\",children:/*#__PURE__*/_jsx(FiEdit,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteSurvey(survey.id),className:\"text-red-600 hover:text-red-900\",children:/*#__PURE__*/_jsx(FiTrash2,{className:\"w-4 h-4\"})})]})})]},survey.id))})]})})]})]}),showSurveyModal&&selectedSurvey&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Survey Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSurveyModal(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[selectedSurvey.beggar_photo_url&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:selectedSurvey.beggar_photo_url,alt:\"Beggar\",className:\"w-full h-48 object-cover rounded-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"Beggar Information\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Name: \",selectedSurvey.beggar_name||'Unknown',/*#__PURE__*/_jsx(\"br\",{}),\"Age: \",selectedSurvey.beggar_age||'Unknown',/*#__PURE__*/_jsx(\"br\",{}),\"Gender: \",selectedSurvey.beggar_gender||'Unknown']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[selectedSurvey.location_address||'Address not provided',/*#__PURE__*/_jsx(\"br\",{}),(()=>{const coords=parseCoordinates(selectedSurvey.location_coordinates);return coords?`Coordinates: ${coords[0].toFixed(6)}, ${coords[1].toFixed(6)}`:'Coordinates not available';})()]})]}),selectedSurvey.survey_notes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:selectedSurvey.survey_notes})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"Survey Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:formatDate(selectedSurvey.survey_date)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSurveyModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowSurveyModal(false);window.location.href=`/volunteer/survey/edit/${selectedSurvey.id}`;},className:\"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700\",children:\"Edit\"})]})]})})})]});};export default SurveyDashboard;","map":{"version":3,"names":["React","useState","useEffect","useAuth","FiMapPin","FiUser","FiCalendar","FiPlus","FiEye","FiEdit","FiTrash2","jsx","_jsx","jsxs","_jsxs","SurveyDashboard","user","surveys","setSurveys","surveyCount","setSurveyCount","loading","setLoading","error","setError","selectedSurvey","setSelectedSurvey","showSurveyModal","setShowSurveyModal","console","log","id","fetchSurveys","_data$surveys","token","localStorage","getItem","response","fetch","headers","status","ok","errorText","text","Error","data","json","length","handleDeleteSurvey","surveyId","window","confirm","method","filter","survey","prev","alert","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","parseCoordinates","coordString","match","parseFloat","className","children","email","onClick","location","href","s","surveyDate","survey_date","now","getMonth","getFullYear","weekAgo","getTime","map","beggar_photo_url","src","alt","beggar_name","beggar_age","beggar_gender","location_address","coords","location_coordinates","toFixed","survey_notes"],"sources":["C:/Users/vigne/Desktop/HHH/client/src/components/volunteer/SurveyDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { FiMapPin, FiUser, FiCalendar, FiPlus, FiEye, FiEdit, FiTrash2 } from 'react-icons/fi';\r\n\r\nconst SurveyDashboard = () => {\r\n  const { user } = useAuth();\r\n  const [surveys, setSurveys] = useState([]);\r\n  const [surveyCount, setSurveyCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedSurvey, setSelectedSurvey] = useState(null);\r\n  const [showSurveyModal, setShowSurveyModal] = useState(false);\r\n\r\n  console.log('🔍 Current user:', user);\r\n  console.log('🔍 User ID:', user?.id);\r\n\r\n  useEffect(() => {\r\n    fetchSurveys();\r\n  }, []);\r\n\r\n  const fetchSurveys = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      console.log('🔍 Fetching surveys with token:', token ? 'exists' : 'missing');\r\n      \r\n      const response = await fetch('/api/volunteer/surveys', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      console.log('🔍 Response status:', response.status);\r\n      console.log('🔍 Response ok:', response.ok);\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.log('🔍 Error response:', errorText);\r\n        throw new Error('Failed to fetch surveys');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('🔍 Response data:', data);\r\n      console.log('🔍 Surveys count:', data.surveys?.length || 0);\r\n      console.log('🔍 Survey count from server:', data.surveyCount || 0);\r\n      \r\n      setSurveys(data.surveys || []);\r\n      setSurveyCount(data.surveyCount || 0);\r\n    } catch (error) {\r\n      console.error('Error fetching surveys:', error);\r\n      setError('Failed to load surveys');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSurvey = async (surveyId) => {\r\n    if (!window.confirm('Are you sure you want to delete this survey?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`/api/volunteer/surveys/${surveyId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to delete survey');\r\n      }\r\n\r\n      // Remove the survey from the list\r\n      setSurveys(surveys.filter(survey => survey.id !== surveyId));\r\n      setSurveyCount(prev => prev - 1);\r\n    } catch (error) {\r\n      console.error('Error deleting survey:', error);\r\n      alert('Failed to delete survey');\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-IN', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const parseCoordinates = (coordString) => {\r\n    if (!coordString) return null;\r\n    const match = coordString.match(/\\(([^,]+),([^)]+)\\)/);\r\n    if (match) {\r\n      return [parseFloat(match[1]), parseFloat(match[2])];\r\n    }\r\n    return null;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading surveys...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">\r\n                Survey Dashboard\r\n              </h1>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Welcome, {user?.email}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => window.location.href = '/volunteer/survey/new'}\r\n              className=\"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 flex items-center gap-2\"\r\n            >\r\n              <FiPlus className=\"w-4 h-4\" />\r\n              New Survey\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"p-3 rounded-full bg-blue-100 text-blue-600\">\r\n                <FiUser className=\"w-6 h-6\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Total Surveys</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{surveyCount}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"p-3 rounded-full bg-green-100 text-green-600\">\r\n                <FiMapPin className=\"w-6 h-6\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-600\">This Month</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {surveys.filter(s => {\r\n                    const surveyDate = new Date(s.survey_date);\r\n                    const now = new Date();\r\n                    return surveyDate.getMonth() === now.getMonth() && \r\n                           surveyDate.getFullYear() === now.getFullYear();\r\n                  }).length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"p-3 rounded-full bg-purple-100 text-purple-600\">\r\n                <FiCalendar className=\"w-6 h-6\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-600\">This Week</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {surveys.filter(s => {\r\n                    const surveyDate = new Date(s.survey_date);\r\n                    const now = new Date();\r\n                    const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n                    return surveyDate >= weekAgo;\r\n                  }).length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Surveys List */}\r\n        <div className=\"bg-white rounded-lg shadow\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-medium text-gray-900\">Recent Surveys</h2>\r\n          </div>\r\n          \r\n          {error && (\r\n            <div className=\"p-6\">\r\n              <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\r\n                <p className=\"text-red-800\">{error}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {surveys.length === 0 ? (\r\n            <div className=\"p-6 text-center\">\r\n              <FiUser className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No surveys yet</h3>\r\n              <p className=\"text-gray-600 mb-4\">Start by creating your first survey</p>\r\n              <button\r\n                onClick={() => window.location.href = '/volunteer/survey/new'}\r\n                className=\"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700\"\r\n              >\r\n                Create Survey\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Beggar Details\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Location\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Date\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {surveys.map((survey) => (\r\n                    <tr key={survey.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center\">\r\n                          {survey.beggar_photo_url && (\r\n                            <img\r\n                              src={survey.beggar_photo_url}\r\n                              alt=\"Beggar\"\r\n                              className=\"w-10 h-10 rounded-full object-cover mr-3\"\r\n                            />\r\n                          )}\r\n                          <div>\r\n                            <div className=\"text-sm font-medium text-gray-900\">\r\n                              {survey.beggar_name || 'Unknown'}\r\n                            </div>\r\n                            <div className=\"text-sm text-gray-500\">\r\n                              {survey.beggar_age && `${survey.beggar_age} years`}\r\n                              {survey.beggar_gender && ` • ${survey.beggar_gender}`}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">\r\n                          {survey.location_address || 'Location recorded'}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {(() => {\r\n                            const coords = parseCoordinates(survey.location_coordinates);\r\n                            return coords ? `${coords[0].toFixed(4)}, ${coords[1].toFixed(4)}` : 'Coordinates available';\r\n                          })()}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {formatDate(survey.survey_date)}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                        <div className=\"flex space-x-2\">\r\n                          <button\r\n                            onClick={() => {\r\n                              setSelectedSurvey(survey);\r\n                              setShowSurveyModal(true);\r\n                            }}\r\n                            className=\"text-blue-600 hover:text-blue-900\"\r\n                          >\r\n                            <FiEye className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => window.location.href = `/volunteer/survey/edit/${survey.id}`}\r\n                            className=\"text-green-600 hover:text-green-900\"\r\n                          >\r\n                            <FiEdit className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeleteSurvey(survey.id)}\r\n                            className=\"text-red-600 hover:text-red-900\"\r\n                          >\r\n                            <FiTrash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Survey Detail Modal */}\r\n      {showSurveyModal && selectedSurvey && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">Survey Details</h3>\r\n                <button\r\n                  onClick={() => setShowSurveyModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {selectedSurvey.beggar_photo_url && (\r\n                  <div>\r\n                    <img\r\n                      src={selectedSurvey.beggar_photo_url}\r\n                      alt=\"Beggar\"\r\n                      className=\"w-full h-48 object-cover rounded-lg\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                \r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900\">Beggar Information</h4>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    Name: {selectedSurvey.beggar_name || 'Unknown'}<br/>\r\n                    Age: {selectedSurvey.beggar_age || 'Unknown'}<br/>\r\n                    Gender: {selectedSurvey.beggar_gender || 'Unknown'}\r\n                  </p>\r\n                </div>\r\n\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900\">Location</h4>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    {selectedSurvey.location_address || 'Address not provided'}<br/>\r\n                    {(() => {\r\n                      const coords = parseCoordinates(selectedSurvey.location_coordinates);\r\n                      return coords ? `Coordinates: ${coords[0].toFixed(6)}, ${coords[1].toFixed(6)}` : 'Coordinates not available';\r\n                    })()}\r\n                  </p>\r\n                </div>\r\n\r\n                {selectedSurvey.survey_notes && (\r\n                  <div>\r\n                    <h4 className=\"font-medium text-gray-900\">Notes</h4>\r\n                    <p className=\"text-sm text-gray-600\">{selectedSurvey.survey_notes}</p>\r\n                  </div>\r\n                )}\r\n\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-900\">Survey Date</h4>\r\n                  <p className=\"text-sm text-gray-600\">{formatDate(selectedSurvey.survey_date)}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6 flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={() => setShowSurveyModal(false)}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\r\n                >\r\n                  Close\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowSurveyModal(false);\r\n                    window.location.href = `/volunteer/survey/edit/${selectedSurvey.id}`;\r\n                  }}\r\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700\"\r\n                >\r\n                  Edit\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurveyDashboard; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,QAAQ,CAAEC,MAAM,CAAEC,UAAU,CAAEC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/F,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAEC,IAAK,CAAC,CAAGb,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACsB,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACwB,cAAc,CAAEC,iBAAiB,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAC0B,eAAe,CAAEC,kBAAkB,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CAE7D4B,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEd,IAAI,CAAC,CACrCa,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEd,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEe,EAAE,CAAC,CAEpC7B,SAAS,CAAC,IAAM,CACd8B,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,KAAAC,aAAA,CACFX,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CP,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEI,KAAK,CAAG,QAAQ,CAAG,SAAS,CAAC,CAE5E,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wBAAwB,CAAE,CACrDC,OAAO,CAAE,CACP,eAAe,CAAE,UAAUL,KAAK,EAClC,CACF,CAAC,CAAC,CAEFL,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEO,QAAQ,CAACG,MAAM,CAAC,CACnDX,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEO,QAAQ,CAACI,EAAE,CAAC,CAE3C,GAAI,CAACJ,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CACvCd,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEY,SAAS,CAAC,CAC5C,KAAM,IAAI,CAAAE,KAAK,CAAC,yBAAyB,CAAC,CAC5C,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClCjB,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEe,IAAI,CAAC,CACtChB,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAE,EAAAG,aAAA,CAAAY,IAAI,CAAC5B,OAAO,UAAAgB,aAAA,iBAAZA,aAAA,CAAcc,MAAM,GAAI,CAAC,CAAC,CAC3DlB,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAEe,IAAI,CAAC1B,WAAW,EAAI,CAAC,CAAC,CAElED,UAAU,CAAC2B,IAAI,CAAC5B,OAAO,EAAI,EAAE,CAAC,CAC9BG,cAAc,CAACyB,IAAI,CAAC1B,WAAW,EAAI,CAAC,CAAC,CACvC,CAAE,MAAOI,KAAK,CAAE,CACdM,OAAO,CAACN,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CC,QAAQ,CAAC,wBAAwB,CAAC,CACpC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA0B,kBAAkB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC7C,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,8CAA8C,CAAC,CAAE,CACnE,OACF,CAEA,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,0BAA0BW,QAAQ,EAAE,CAAE,CACjEG,MAAM,CAAE,QAAQ,CAChBb,OAAO,CAAE,CACP,eAAe,CAAE,UAAUJ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAC1D,CACF,CAAC,CAAC,CAEF,GAAI,CAACC,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAG,KAAK,CAAC,yBAAyB,CAAC,CAC5C,CAEA;AACA1B,UAAU,CAACD,OAAO,CAACoC,MAAM,CAACC,MAAM,EAAIA,MAAM,CAACvB,EAAE,GAAKkB,QAAQ,CAAC,CAAC,CAC5D7B,cAAc,CAACmC,IAAI,EAAIA,IAAI,CAAG,CAAC,CAAC,CAClC,CAAE,MAAOhC,KAAK,CAAE,CACdM,OAAO,CAACN,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CiC,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,UAAU,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtDC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,WAAW,EAAK,CACxC,GAAI,CAACA,WAAW,CAAE,MAAO,KAAI,CAC7B,KAAM,CAAAC,KAAK,CAAGD,WAAW,CAACC,KAAK,CAAC,qBAAqB,CAAC,CACtD,GAAIA,KAAK,CAAE,CACT,MAAO,CAACC,UAAU,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,CAAEC,UAAU,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CACrD,CACA,MAAO,KAAI,CACb,CAAC,CAED,GAAI/C,OAAO,CAAE,CACX,mBACET,IAAA,QAAK0D,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvEzD,KAAA,QAAKwD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B3D,IAAA,QAAK0D,SAAS,CAAC,mGAAmG,CAAM,CAAC,cACzH1D,IAAA,MAAG0D,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,EAChD,CAAC,CACH,CAAC,CAEV,CAEA,mBACEzD,KAAA,QAAKwD,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAEtC3D,IAAA,QAAK0D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1C3D,IAAA,QAAK0D,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDzD,KAAA,QAAKwD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDzD,KAAA,QAAAyD,QAAA,eACE3D,IAAA,OAAI0D,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,kBAEjD,CAAI,CAAC,cACLzD,KAAA,MAAGwD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,WAC1B,CAACvD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwD,KAAK,EACpB,CAAC,EACD,CAAC,cACN1D,KAAA,WACE2D,OAAO,CAAEA,CAAA,GAAMvB,MAAM,CAACwB,QAAQ,CAACC,IAAI,CAAG,uBAAwB,CAC9DL,SAAS,CAAC,6FAA6F,CAAAC,QAAA,eAEvG3D,IAAA,CAACL,MAAM,EAAC+D,SAAS,CAAC,SAAS,CAAE,CAAC,aAEhC,EAAQ,CAAC,EACN,CAAC,CACH,CAAC,CACH,CAAC,cAENxD,KAAA,QAAKwD,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAE1DzD,KAAA,QAAKwD,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD3D,IAAA,QAAK0D,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CzD,KAAA,QAAKwD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC3D,IAAA,QAAK0D,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cACzD3D,IAAA,CAACP,MAAM,EAACiE,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3B,CAAC,cACNxD,KAAA,QAAKwD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3D,IAAA,MAAG0D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,cAClE3D,IAAA,MAAG0D,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEpD,WAAW,CAAI,CAAC,EAC9D,CAAC,EACH,CAAC,CACH,CAAC,cAENP,IAAA,QAAK0D,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CzD,KAAA,QAAKwD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC3D,IAAA,QAAK0D,SAAS,CAAC,8CAA8C,CAAAC,QAAA,cAC3D3D,IAAA,CAACR,QAAQ,EAACkE,SAAS,CAAC,SAAS,CAAE,CAAC,CAC7B,CAAC,cACNxD,KAAA,QAAKwD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3D,IAAA,MAAG0D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAC/D3D,IAAA,MAAG0D,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC5CtD,OAAO,CAACoC,MAAM,CAACuB,CAAC,EAAI,CACnB,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAlB,IAAI,CAACiB,CAAC,CAACE,WAAW,CAAC,CAC1C,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAApB,IAAI,CAAC,CAAC,CACtB,MAAO,CAAAkB,UAAU,CAACG,QAAQ,CAAC,CAAC,GAAKD,GAAG,CAACC,QAAQ,CAAC,CAAC,EACxCH,UAAU,CAACI,WAAW,CAAC,CAAC,GAAKF,GAAG,CAACE,WAAW,CAAC,CAAC,CACvD,CAAC,CAAC,CAAClC,MAAM,CACR,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,cAENnC,IAAA,QAAK0D,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CzD,KAAA,QAAKwD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC3D,IAAA,QAAK0D,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC7D3D,IAAA,CAACN,UAAU,EAACgE,SAAS,CAAC,SAAS,CAAE,CAAC,CAC/B,CAAC,cACNxD,KAAA,QAAKwD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3D,IAAA,MAAG0D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cAC9D3D,IAAA,MAAG0D,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC5CtD,OAAO,CAACoC,MAAM,CAACuB,CAAC,EAAI,CACnB,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAlB,IAAI,CAACiB,CAAC,CAACE,WAAW,CAAC,CAC1C,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAApB,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAuB,OAAO,CAAG,GAAI,CAAAvB,IAAI,CAACoB,GAAG,CAACI,OAAO,CAAC,CAAC,CAAG,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CACjE,MAAO,CAAAN,UAAU,EAAIK,OAAO,CAC9B,CAAC,CAAC,CAACnC,MAAM,CACR,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAGNjC,KAAA,QAAKwD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC3D,IAAA,QAAK0D,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjD3D,IAAA,OAAI0D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,CAClE,CAAC,CAELhD,KAAK,eACJX,IAAA,QAAK0D,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClB3D,IAAA,QAAK0D,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC7D3D,IAAA,MAAG0D,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEhD,KAAK,CAAI,CAAC,CACpC,CAAC,CACH,CACN,CAEAN,OAAO,CAAC8B,MAAM,GAAK,CAAC,cACnBjC,KAAA,QAAKwD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3D,IAAA,CAACP,MAAM,EAACiE,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC3D1D,IAAA,OAAI0D,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC1E3D,IAAA,MAAG0D,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qCAAmC,CAAG,CAAC,cACzE3D,IAAA,WACE6D,OAAO,CAAEA,CAAA,GAAMvB,MAAM,CAACwB,QAAQ,CAACC,IAAI,CAAG,uBAAwB,CAC9DL,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAChF,eAED,CAAQ,CAAC,EACN,CAAC,cAEN3D,IAAA,QAAK0D,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BzD,KAAA,UAAOwD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpD3D,IAAA,UAAO0D,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC3BzD,KAAA,OAAAyD,QAAA,eACE3D,IAAA,OAAI0D,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,gBAE/F,CAAI,CAAC,cACL3D,IAAA,OAAI0D,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,UAE/F,CAAI,CAAC,cACL3D,IAAA,OAAI0D,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,MAE/F,CAAI,CAAC,cACL3D,IAAA,OAAI0D,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,SAE/F,CAAI,CAAC,EACH,CAAC,CACA,CAAC,cACR3D,IAAA,UAAO0D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjDtD,OAAO,CAACmE,GAAG,CAAE9B,MAAM,eAClBxC,KAAA,OAAoBwD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC9C3D,IAAA,OAAI0D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzCzD,KAAA,QAAKwD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAC/BjB,MAAM,CAAC+B,gBAAgB,eACtBzE,IAAA,QACE0E,GAAG,CAAEhC,MAAM,CAAC+B,gBAAiB,CAC7BE,GAAG,CAAC,QAAQ,CACZjB,SAAS,CAAC,0CAA0C,CACrD,CACF,cACDxD,KAAA,QAAAyD,QAAA,eACE3D,IAAA,QAAK0D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC/CjB,MAAM,CAACkC,WAAW,EAAI,SAAS,CAC7B,CAAC,cACN1E,KAAA,QAAKwD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCjB,MAAM,CAACmC,UAAU,EAAI,GAAGnC,MAAM,CAACmC,UAAU,QAAQ,CACjDnC,MAAM,CAACoC,aAAa,EAAI,MAAMpC,MAAM,CAACoC,aAAa,EAAE,EAClD,CAAC,EACH,CAAC,EACH,CAAC,CACJ,CAAC,cACL5E,KAAA,OAAIwD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eACzC3D,IAAA,QAAK0D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnCjB,MAAM,CAACqC,gBAAgB,EAAI,mBAAmB,CAC5C,CAAC,cACN/E,IAAA,QAAK0D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnC,CAAC,IAAM,CACN,KAAM,CAAAqB,MAAM,CAAG1B,gBAAgB,CAACZ,MAAM,CAACuC,oBAAoB,CAAC,CAC5D,MAAO,CAAAD,MAAM,CAAG,GAAGA,MAAM,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,KAAKF,MAAM,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,EAAE,CAAG,uBAAuB,CAC9F,CAAC,EAAE,CAAC,CACD,CAAC,EACJ,CAAC,cACLlF,IAAA,OAAI0D,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9Dd,UAAU,CAACH,MAAM,CAACwB,WAAW,CAAC,CAC7B,CAAC,cACLlE,IAAA,OAAI0D,SAAS,CAAC,iDAAiD,CAAAC,QAAA,cAC7DzD,KAAA,QAAKwD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B3D,IAAA,WACE6D,OAAO,CAAEA,CAAA,GAAM,CACb/C,iBAAiB,CAAC4B,MAAM,CAAC,CACzB1B,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CACF0C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7C3D,IAAA,CAACJ,KAAK,EAAC8D,SAAS,CAAC,SAAS,CAAE,CAAC,CACvB,CAAC,cACT1D,IAAA,WACE6D,OAAO,CAAEA,CAAA,GAAMvB,MAAM,CAACwB,QAAQ,CAACC,IAAI,CAAG,0BAA0BrB,MAAM,CAACvB,EAAE,EAAG,CAC5EuC,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAE/C3D,IAAA,CAACH,MAAM,EAAC6D,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,cACT1D,IAAA,WACE6D,OAAO,CAAEA,CAAA,GAAMzB,kBAAkB,CAACM,MAAM,CAACvB,EAAE,CAAE,CAC7CuC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cAE3C3D,IAAA,CAACF,QAAQ,EAAC4D,SAAS,CAAC,SAAS,CAAE,CAAC,CAC1B,CAAC,EACN,CAAC,CACJ,CAAC,GA3DEhB,MAAM,CAACvB,EA4DZ,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CACN,EACE,CAAC,EACH,CAAC,CAGLJ,eAAe,EAAIF,cAAc,eAChCb,IAAA,QAAK0D,SAAS,CAAC,4EAA4E,CAAAC,QAAA,cACzF3D,IAAA,QAAK0D,SAAS,CAAC,uEAAuE,CAAAC,QAAA,cACpFzD,KAAA,QAAKwD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzD,KAAA,QAAKwD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD3D,IAAA,OAAI0D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACrE3D,IAAA,WACE6D,OAAO,CAAEA,CAAA,GAAM7C,kBAAkB,CAAC,KAAK,CAAE,CACzC0C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC9C,MAED,CAAQ,CAAC,EACN,CAAC,cAENzD,KAAA,QAAKwD,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvB9C,cAAc,CAAC4D,gBAAgB,eAC9BzE,IAAA,QAAA2D,QAAA,cACE3D,IAAA,QACE0E,GAAG,CAAE7D,cAAc,CAAC4D,gBAAiB,CACrCE,GAAG,CAAC,QAAQ,CACZjB,SAAS,CAAC,qCAAqC,CAChD,CAAC,CACC,CACN,cAEDxD,KAAA,QAAAyD,QAAA,eACE3D,IAAA,OAAI0D,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cACjEzD,KAAA,MAAGwD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,QAC7B,CAAC9C,cAAc,CAAC+D,WAAW,EAAI,SAAS,cAAC5E,IAAA,QAAI,CAAC,QAC/C,CAACa,cAAc,CAACgE,UAAU,EAAI,SAAS,cAAC7E,IAAA,QAAI,CAAC,WAC1C,CAACa,cAAc,CAACiE,aAAa,EAAI,SAAS,EACjD,CAAC,EACD,CAAC,cAEN5E,KAAA,QAAAyD,QAAA,eACE3D,IAAA,OAAI0D,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACvDzD,KAAA,MAAGwD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACjC9C,cAAc,CAACkE,gBAAgB,EAAI,sBAAsB,cAAC/E,IAAA,QAAI,CAAC,CAC/D,CAAC,IAAM,CACN,KAAM,CAAAgF,MAAM,CAAG1B,gBAAgB,CAACzC,cAAc,CAACoE,oBAAoB,CAAC,CACpE,MAAO,CAAAD,MAAM,CAAG,gBAAgBA,MAAM,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,KAAKF,MAAM,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,EAAE,CAAG,2BAA2B,CAC/G,CAAC,EAAE,CAAC,EACH,CAAC,EACD,CAAC,CAELrE,cAAc,CAACsE,YAAY,eAC1BjF,KAAA,QAAAyD,QAAA,eACE3D,IAAA,OAAI0D,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cACpD3D,IAAA,MAAG0D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE9C,cAAc,CAACsE,YAAY,CAAI,CAAC,EACnE,CACN,cAEDjF,KAAA,QAAAyD,QAAA,eACE3D,IAAA,OAAI0D,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cAC1D3D,IAAA,MAAG0D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEd,UAAU,CAAChC,cAAc,CAACqD,WAAW,CAAC,CAAI,CAAC,EAC9E,CAAC,EACH,CAAC,cAENhE,KAAA,QAAKwD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C3D,IAAA,WACE6D,OAAO,CAAEA,CAAA,GAAM7C,kBAAkB,CAAC,KAAK,CAAE,CACzC0C,SAAS,CAAC,sFAAsF,CAAAC,QAAA,CACjG,OAED,CAAQ,CAAC,cACT3D,IAAA,WACE6D,OAAO,CAAEA,CAAA,GAAM,CACb7C,kBAAkB,CAAC,KAAK,CAAC,CACzBsB,MAAM,CAACwB,QAAQ,CAACC,IAAI,CAAG,0BAA0BlD,cAAc,CAACM,EAAE,EAAE,CACtE,CAAE,CACFuC,SAAS,CAAC,yFAAyF,CAAAC,QAAA,CACpG,MAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}