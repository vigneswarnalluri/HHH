<!DOCTYPE html>
<html>
<head>
    <title>Test Donation Endpoint</title>
</head>
<body>
    <h1>Test Donation Endpoint</h1>
    <div id="results"></div>
    
    <script>
        const API_URL = 'https://hhh-1z4h.onrender.com';
        
        async function testDonationEndpoint() {
            const results = document.getElementById('results');
            
            try {
                // Test donation creation
                console.log('Testing donation endpoint...');
                const donationData = {
                    amount: 500,
                    donor_name: 'Test Donor',
                    donor_email: 'test@example.com',
                    donor_phone: '+91-9876543210',
                    payment_method: 'card',
                    message: 'Test donation'
                };
                
                const response = await fetch(`${API_URL}/api/donations`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(donationData)
                });
                
                console.log('Response status:', response.status);
                
                if (response.ok) {
                    const result = await response.json();
                    results.innerHTML += `<p>✅ Donation successful: ${JSON.stringify(result)}</p>`;
                } else {
                    const errorText = await response.text();
                    results.innerHTML += `<p>❌ Donation failed: ${response.status} - ${errorText}</p>`;
                }
                
            } catch (error) {
                console.error('Test failed:', error);
                results.innerHTML += `<p>❌ Test failed: ${error.message}</p>`;
            }
        }
        
        testDonationEndpoint();
    </script>
</body>
</html> 